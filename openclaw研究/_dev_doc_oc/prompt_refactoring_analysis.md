# OpenClaw 指令重构与 Token 优化策略分析

## 1. 背景分析
近期社交媒体（如 X/Twitter）上出现了关于 OpenClaw 使用效率的讨论，核心建议是：**将非结构化的记忆（MEMORY.md）迁移至结构化的技能（Skills）或工具说明（TOOLS.md）中。**

此建议的核心逻辑在于：**减少全局上下文负载，提高特定任务的响应精度。**

## 2. 核心概念映射
在 OpenClaw 的架构中，这一建议对应以下组件：

| 外部概念 | OpenClaw 实际组件 | 角色与功能 |
| :--- | :--- | :--- |
| **MEMORY.md** | `AGENTS.md` / `MEMORY.md` (用户自建) | 存放通用背景、偏好、长期项目说明。容易因过度膨胀导致 Token 浪费。 |
| **Skills** | `extensions/*` / `.agents/skills/*` | **按需加载**的复杂指令集。只有在执行特定任务（如 PR 评审、文档构建）时才会被注入上下文。 |
| **TOOLS.md** | `tools.md` | 存放关于如何更高效使用特定工具（如 `npm`, `pnpm`, `bash`）的技巧和注意事项。 |

## 3. 为什么需要重构？
1. **Token 经济学**：OpenClaw 默认读取核心指令。如果核心文件包含大量不相关的“记忆”，每轮对话都会消耗不必要的成本。
2. **注意力分散**：LLM 在处理超长 Prompt 时，可能会忽略中间的细微指令。
3. **维护性**：将特定逻辑（如“发布流程”）打包成 Skill，更易于版本管理和跨项目复用。

## 4. 优化实施指南

### A. 识别需要迁移的内容
- **适合保留在 AGENTS.md/MEMORY.md**：项目整体架构描述、编程语言偏好、核心安全准则。
- **适合迁移至 Skills**：特定的 CI/CD 流程、复杂的格式转换逻辑、特定平台的发布脚本（如 App Store 提交步骤）。
- **适合迁移至 TOOLS.md**：特定环境下的命令参数避坑（如 `macOS 下 sudo 的特殊处理`）、特定库的初始化模版。

### B. 操作建议
1. **定期审查**：每月或在项目重大变更后，让 OpenClaw 分析当前的指令文件，识别出可以“模块化”的内容。
2. **按需引用**：利用 OpenClaw 的 `skill` 加载机制，而非在初始化时注入所有内容。

## 5. 结论
Chrys Bader 的建议是 **OpenClaw 进阶使用的最佳实践**。它标志着从“简单喂食 Prompt”到“构建工程化指令架构”的转变。

---
*文档生成日期：2026-02-18*
*关联推文：[chrysb/status/2023610392614990086](https://x.com/chrysb/status/2023610392614990086)*
